<section xml:id="S_functionsonsets">
  <title>Functions Acting on Sets</title>
  <introduction>
    <exploration xml:id="PA_functionsandsets">
      <title>Functions and Sets</title>
      <p>
        Let <m>S = \left\{ a, b, c, d \right\}</m> and <m>T = \left\{ s, t, u \right\}</m>.
        Define <m>f\x S \to T</m> by
        <md>
          <mrow>f(a) \amp = s \amp   f(b) \amp = t \amp   f(c) \amp = t \amp   f(d) \amp = s</mrow>
        </md>.
      </p>
      <ol>
        <li>
          <p>
            Let <m>A = \left\{ a,c \right\}</m> and <m>B = \left\{ a, d \right\}</m>.
            Notice that <m>A</m> and <m>B</m> are subsets of <m>S</m>.
            Use the roster method to specify the elements of the following two subsets of <m>T</m>:
          </p>
          <ol>
            <li>
              <p>
                <m>\left\{ f ( x ) \mid x \in A \right\}</m>
              </p>
            </li>
            <li>
              <p>
                <m>\left\{ f ( x ) \mid x \in B \right\}</m>
              </p>
            </li>
          </ol>
        </li>
        <li>
          <p>
            Let <m>C = \left\{ s, t \right\}</m> and <m>D = \left\{ s, u \right\}</m>.
            Notice that <m>C</m> and <m>D</m> are subsets of <m>T</m>.
            Use the roster method to specify the elements of the following two subsets of <m>S</m>:
            <ol>
              <li>
                <p>
                  <m>\left\{ x \in S \mid f ( x ) \in C \right\}</m>
                </p>
              </li>
              <li>
                <p>
                  <m>\left\{ x \in S \mid f ( x ) \in D \right\}</m>
                </p>
              </li>
            </ol>
          </p>
        </li>
      </ol>
      <p>
        Now let <m>g\x \R \to \R</m> be defined by <m>g ( x ) = x^2</m>,
        for each <m>x \in \mathbb{R}</m>.
      </p>
      <ol>
        <li>
          <p>
            Let <m>A = \left\{ 1, 2, 3, -1 \right\}</m>.
            Use the roster method to specify the elements of the set <m>\left\{ g ( x ) \mid x \in A \right\}</m>.
          </p>
        </li>
        <li>
          <p>
            Use the roster method to specify the elements of each of the following sets:
          </p>
          <ol>
            <li>
              <p>
                <m>\left\{ x \in \R \mid g( x ) = 1 \right\}</m>
              </p>
            </li>
            <li>
              <p>
                <m>\left\{ x \in \R \mid g( x ) = 9 \right\}</m>
              </p>
            </li>
            <li>
              <p>
                <m>\left\{ x \in \R \mid g( x ) = 15 \right\}</m>
              </p>
            </li>
            <li>
              <p>
                <m>\left\{ x \in \R \mid g( x ) = -1 \right\}</m>
              </p>
            </li>
          </ol>
        </li>
        <li>
          <p>
            Let <m>B = \left\{ 1, 9, 15, -1 \right\}</m>.
            Use the roster method to specify the elements of the set <m>\left\{ x \in \mathbb{R} \mid g ( x ) \in B \right\}</m>.
          </p>
        </li>
      </ol>
    </exploration>
    <exploration xml:id="PA_functionsandint">
      <title>Functions and Intervals</title>
      <p>
        Let <m>g\x \mathbb{R} \to \mathbb{R}</m> be defined by <m>g ( x ) = x^2</m>,
        for each <m>x \in \mathbb{R}</m>.
      </p>
      <ol>
        <li>
          <p>
            We will first determine where <m>g</m> maps the closed interval <m>\left[ 1, 2 \right]</m>.
            (Recall that <m>[1, 2] = \left\{ x \in \R \mid 1 \leq x \leq 2 \right\}</m>.)
            That is, we will describe, in simpler terms,
            the set <m>\left\{ g ( x ) \mid x \in \left[ 1, 2 \right] \right\}</m>.
            This is the set of all images of the real numbers in the closed interval <m>\left[ 1, 2 \right]</m>.
          </p>
          <ol>
            <li>
              <p>
                Draw a graph of the function <m>g</m> using <m>-3 \leq x \leq 3</m>.
              </p>
            </li>
            <li>
              <p>
                On the graph,
                draw the vertical lines <m>x = 1</m> and <m>x = 2</m> from the <m>x</m>-axis to the graph.
                Label the points <m>P \!\left(1, f ( 1 ) \right)</m> and <m>Q \!\left(2, f ( 2 ) \right)</m> on the graph.
              </p>
            </li>
            <li>
              <p>
                Now draw horizontal lines from the points <m>P</m> and <m>Q</m> to the <m>y</m>-axis.
                Use this information from the graph to describe the set <m>\left\{ g ( x ) \mid x \in \left[ 1, 2 \right] \right\}</m> in simpler terms.
                Use interval notation or set builder notation.
              </p>
            </li>
          </ol>
        </li>
        <li>
          <p>
            We will now determine all real numbers that <m>g</m> maps into the closed interval <m>\left[ 1, 4 \right]</m>.
            That is, we will describe the set <m>\left\{ x \in \mathbb{R} \mid g ( x ) \in \left[ 1, 4 \right] \right\}</m> in simpler terms.
            This is the set of all preimages of the real numbers in the closed interval <m>\left[ 1, 4 \right]</m>.
            <ol>
              <li>
                <p>
                  Draw a graph of the function <m>g</m> using <m>-3 \leq x \leq 3</m>.
                </p>
              </li>
              <li>
                <p>
                  On the graph,
                  draw the horizontal lines <m>y = 1</m> and <m>y = 4</m> from the <m>y</m>-axis to the graph.
                  Label all points where these two lines intersect the graph.
                </p>
              </li>
              <li>
                <p>
                  Now draw vertical lines from the points in Part<nbsp/>(2) to the <m>x</m>-axis,
                  and then use the resulting information to describe the set <m>\left\{ x \in \mathbb{R} \mid g ( x ) \in \left[ 1, 4 \right] \right\}</m> in simpler terms.
                  (You will need to describe this set as a union of two intervals.
                  Use interval notation or set builder notation.)
                </p>
              </li>
            </ol>
          </p>
        </li>
      </ol>
    </exploration>
  </introduction>
  <subsection>
    <title>Functions Acting on Sets</title>
    <p>
      In our study of functions, we have focused on how a function
      <q>maps</q>
      individual elements of its domain to the codomain.
      We also studied the preimage of an individual element in its codomain.
      For example,
      if <m>f\x \mathbb{R} \to \mathbb{R}</m> is defined by <m>f ( x ) = x^2</m>,
      for each <m>x \in \mathbb{R}</m>, then
      <ul>
        <li>
          <p>
            <m>f ( 2 ) = 4</m>.
            We say that <m>f</m> maps 2 to 4 or that 4 is the image of 2 under the function <m>f</m>.
          </p>
        </li>
        <li>
          <p>
            Since <m>f ( x ) = 4</m> implies that <m>x = 2</m> or <m>x = -2</m>,
            we say that the preimages of 4 are 2 and <m>-2</m> or that the set of preimages of 4 is <m>\left\{ -2, 2 \right\}</m>.
          </p>
        </li>
      </ul>
    </p>
    <p>
      For a function <m>f\x S \to T</m>,
      the next step is to consider subsets of <m>S</m> or <m>T</m> and what corresponds to them in the other set.
      We did this in the beginning activities.
      We will give some definitions and then revisit the examples in the beginning activities in light of these definitions.
      We will first consider the situation where <m>A</m> is a subset of <m>S</m> and consider the set of outputs whose inputs are from <m>A</m>.
      This will be a subset of <m>T</m>.
    </p>
    <definition xml:id="imageofA">
      <statement>
        <p>
          Let <m>f\x S \to T</m>.
          If <m>A \subseteq S</m>,
          then the <term>image of <m>\boldsymbol{A}</m> under <m>\boldsymbol{f}</m></term>
              <idx><h>image</h><h>of a set</h></idx>
          is the set <m>f ( A )</m>, where
          <me>
            f ( A ) = \left\{f ( x ) \mid x \in A \right\}\!
          </me>.
        </p>
        <p>
          If there is no confusion as to which function is being used,
          we call <m>f ( A )</m> <term>the image of <m>\boldsymbol{A}</m></term>.
        </p>
      </statement>
    </definition>
    <p>
      We now consider the situation in which <m>C</m> is a subset of <m>T</m> and consider the subset of <m>A</m> consisting of all elements of <m>T</m> whose outputs are in <m>C</m>.
    </p>
    <definition xml:id="inverseimage">
      <statement>
        <p>
          Let <m>f\x S \to T</m>.
          If <m>C \subseteq T</m>,
          then the <term>preimage of
          <m>\boldsymbol{C}</m> under <m>\boldsymbol{f}</m></term>
              <idx><h>preimage</h><h>of a set</h></idx>
          is the set <m>f^{-1} ( C )</m>, where
          <me>
            f^{-1} ( C ) = \left\{x \in S \mid f ( x ) \in C \right\}
          </me>.
        </p>
        <p>
          If there is no confusion as to which function is being used,
          we call <m>f^{-1} ( C )</m> <term>the preimage of <m>\boldsymbol{C}</m></term>.
          The preimage of the set <m>C</m> under <m>f</m> is also called the
          <term>inverse image of <m>\boldsymbol{C}</m> under <m>\boldsymbol{f}</m></term>.
              <idx><h>inverse image of a set</h></idx>
        </p>
      </statement>
    </definition>
    <p>
      Notice that the set <m>f^{-1} ( C )</m> is defined whether or not <m>f^{-1}</m> is a function.
    </p>
    <investigation xml:id="prog_functionsandsets">
      <title>\typeu <xref ref="PA_functionsandsets"></xref> Revisited</title>
      <p>
        Let <m>S = \left\{ a, b, c, d \right\}</m> and <m>T = \left\{ s, t, u \right\}</m>.
        Define <m>f\x S \to T</m> by
        <md>
          <mrow>f(a) \amp = s \amp   f(b) \amp = t \amp   f(c) \amp = t \amp   f(d) \amp = s</mrow>
        </md>.
      </p>
      <p>
        Let <m>A = \left\{ a, c \right\}, B = \left\{ a, d \right\}, C = \left\{ s, t \right\}, \text{ and } D = \left\{ s, u \right\}</m>.
      </p>
      <p>
        Use your work in <xref ref="PA_functionsandsets"></xref>
        to determine each of the following sets:
        <ol>
          <li>
            <p>
              <m>f ( A )</m>
            </p>
          </li>
          <li>
            <p>
              <m>f ( B )</m>
            </p>
          </li>
          <li>
            <p>
              <m>f^{-1} ( C )</m>
            </p>
          </li>
          <li>
            <p>
              <m>f^{-1} ( D )</m>
            </p>
          </li>
        </ol>
      </p>
    </investigation>
    <example xml:id="exam_imageandinverse">
      <title>Images and Preimages of Sets</title>
      <statement>
        <p>
          Let <m>f\x \mathbb{R} \to \mathbb{R}</m> be defined by <m>f( x ) = x^2</m>,
          for each <m>x \in \mathbb{R}</m>.
          The following results are based on the examples in <xref ref="PA_functionsandsets"></xref>
          and <xref ref="PA_functionsandint"></xref>.
          <ul>
            <li>
              <p>
                Let <m>A = \left\{ 1, 2, 3, -1 \right\}</m>.
                Then <m>f ( A ) = \left\{ 1, 4, 9 \right\}</m>.
              </p>
            </li>
            <li>
              <p>
                Let <m>B = \left\{ 1, 9, 15, -1 \right\}</m>.
                Then <m>f^{-1} ( B ) = \left\{ -\sqrt{15}, -3, -1, 1, 3, \sqrt{15} \right\}</m>.
              </p>
            </li>
          </ul>
        </p>
        <p>
          The graphs from Beginning  <xref ref="PA_functionsandint"></xref>
          illustrate the following results:
          <ul>
            <li>
              <p>
                If <m>T</m> is the closed interval <m>\left[ 1, 2 \right]</m>,
                then the image of the set <m>T</m> is
                <me>
                  \begin{aligned}f ( T ) \amp = \left\{ f ( x ) \mid x \in \left[ 1, 2 \right] \right\} \\ \amp = \left[ 1, 4 \right]. \end{aligned}
                </me>
              </p>
            </li>
            <li>
              <p>
                If <m>C</m> is the closed interval <m>\left[ 1, 4 \right]</m>,
                then the preimage of the set <m>C</m> is
                <me>
                  \begin{aligned}f^{-1} ( C ) \amp = \left\{ x \in \mathbb{R} \mid f ( x ) \in \left[ 1, 4 \right] \right\} \amp = \left[ -2, -1 \right] \cup \left[ 1, 2 \right]. \end{aligned}
                </me>
              </p>
            </li>
          </ul>
        </p>
      </statement>
    </example>
  </subsection>
  <subsection>
    <title>Set Operations and Functions Acting on Sets</title>
    <p>
      We will now consider the following situation: Let <m>S</m> and <m>T</m> be sets and let <m>f</m> be a function from <m>S</m> to <m>T</m>.
      Also, let <m>A</m> and <m>B</m> be subsets of <m>S</m> and let <m>C</m> and <m>D</m> be subsets of <m>T</m>.
      In the remainder of this section,
      we will consider the following situations and answer the questions posed in each case.
      <ul>
        <li>
          <p>
            The set <m>A \cap B</m> is a subset of <m>S</m> and so
            <m>f ( A \cap B )</m> is a subset of <m>T</m>.
            In addition,
            <m>f ( A )</m> and <m>f ( B )</m> are subsets of <m>T</m>.
            Hence, <m>f ( A ) \cap f ( B )</m> is a subset of <m>T</m>.
            Is there any relationship between
            <m>f ( A \cap B )</m> and <m>f ( A ) \cap f ( B )</m>?
          </p>
        </li>
        <li>
          <p>
            The set <m>A \cup B</m> is a subset of <m>S</m> and so
            <m>f ( A \cup B )</m> is a subset of <m>T</m>.
            In addition,
            <m>f ( A )</m> and <m>f ( B )</m> are subsets of <m>T</m>.
            Hence, <m>f ( A ) \cup f ( B )</m> is a subset of <m>T</m>.
            Is there any relationship between
            <m>f ( A \cup B )</m> and <m>f ( A ) \cup f ( B )</m>?
          </p>
        </li>
        <li>
          <p>
            The set <m>C \cap D</m> is a subset of <m>T</m> and so
            <m>f^{-1} ( C \cap D )</m> is a subset of <m>S</m>.
            In addition, <m>f^{-1} ( C )</m> and
            <m>f^{-1} ( D )</m> are subsets of <m>S</m>.
            Hence, <m>f^{-1} ( C ) \cap f^{-1} ( D )</m> is a subset of <m>S</m>.
            Is there any relationship between the sets
            <m>f^{-1} ( C \cap D )</m> and <m>f^{-1} ( C ) \cap f^{-1} ( D )</m>?
          </p>
        </li>
        <li>
          <p>
            The set <m>C \cup D</m> is a subset of <m>T</m> and so
            <m>f^{-1} ( C \cup D )</m> is a subset of <m>S</m>.
            In addition, <m>f^{-1} ( C )</m> and
            <m>f^{-1} ( D )</m> are subsets of <m>S</m>.
            Hence, <m>f^{-1} ( C ) \cup f^{-1} ( D )</m> is a subset of <m>S</m>.
            Is there any relationship between the sets
            <m>f^{-1} ( C \cup D )</m> and <m>f^{-1} ( C ) \cup f^{-1} ( D )</m>?
          </p>
        </li>
      </ul>
    </p>
    <p>
      These and other questions will be explored in the next progress check.
    </p>
    <investigation xml:id="prog_setsandfunctions">
      <title>Set Operations and Functions Acting on Sets</title>
      <p>
        In <xref ref="S_moreaboutfunctions"></xref>,
        we introduced functions involving congruences.
        For example, if we let
        <me>
          R_8 = \left\{0, 1, 2, 3, 4, 5, 6, 7 \right\}
        </me>,
        then we can define <m>f\x  R_8 \to R_8</m> by <m>f ( x ) = r</m>,
        where <m>\left( x^2 + 2 \right) \equiv r \pmod 8</m> and <m>r \in R_8</m>.
        Moreover, we shortened this notation to
        <me>
          f ( x ) = \left( x^2 + 2 \right) \pmod 8
        </me>.
      </p>
      <p>
        We will use the following subsets of <m>\R_8</m>:
      </p>
      <tabular>
        <row>
          <cell>" <m>A = \left\{ 1, 2, 4 \right\}</m> " <m>B = \left\{ 3, 4, 6 \right\}</m> "
            <m>C = \left\{ 1, 2, 3 \right\}</m> " <m>D = \left\{ 3, 4, 5 \right\}</m>. "</cell>
        </row>
      </tabular>
      <ol>
        <li>
          <p>
            Verify that <m>f ( 0 ) = 2</m>,
            <m>f ( 1 ) = 3</m>, <m>f ( 2 ) = 6</m>, and <m>f ( 3 ) = 3</m>.
            Then determine <m>f ( 4 )</m>,
            <m>f ( 5 )</m>, <m>f ( 6 )</m>, and <m>f ( 7 )</m>.
          </p>
        </li>
        <li>
          <p>
            Determine <m>f (A )</m>,
            <m>f (B )</m>, <m>f^{-1} (C )</m>, and <m>f^{-1} (D )</m>.
          </p>
        </li>
        <li>
          <p>
            For each of the following,
            determine the two subsets of <m>R_8</m> and then determine if there is a relationship between the two sets.
            For example,
            <m>A \cap B = \left\{ 4 \right\}</m> and since <m>f(4) = 2</m>,
            we see that <m>f ( A \cap B ) = \left\{ 2 \right\}</m>.
            <ol>
              <li>
                <p>
                  <m>f ( A \cap B )</m> and <m>f ( A ) \cap f ( B )</m>
                </p>
              </li>
              <li>
                <p>
                  <m>f ( A \cup B )</m> and <m>f ( A ) \cup f ( B )</m>
                </p>
              </li>
              <li>
                <p>
                  <m>f^{-1} ( C \cap D )</m> and <m>f^{-1} ( C ) \cap f^{-1} ( D )</m>
                </p>
              </li>
              <li>
                <p>
                  <m>f^{-1} ( C \cup D )</m> and <m>f^{-1} ( C ) \cup f^{-1} ( D )</m>
                </p>
              </li>
            </ol>
          </p>
        </li>
        <li>
          <p>
            Notice that <m>f ( A )</m> is a subset of the codomain,
            <m>R_8</m>.
            Consequently,
            <m>f^{-1} \!\left( f ( A ) \right)</m> is a subset of the domain,
            <m>R_8</m>.
            Is there any relation between <m>A</m> and <m>f^{-1} \!\left( f ( A ) \right)</m> in this case?
          </p>
        </li>
        <li>
          <p>
            Notice that <m>f^{-1} ( C )</m> is a subset of the domain,
            <m>R_8</m>.
            Consequently,
            <m>f \!\left( f^{-1} ( C ) \right)</m> is a subset of the codomain,
            <m>R_8</m>.
            Is there any relation between <m>C</m> and <m>f \!\left( f^{-1} ( C ) \right)</m> in this case?
          </p>
        </li>
      </ol>
    </investigation>
    <example xml:id="exam_setsandfunctions2">
      <title>Set Operations and Functions Acting on Sets</title>
      <statement>
        <p>
          Define <m>f\x \mathbb{R} \to \mathbb{R}</m> by
          <m>f ( x ) = x^2 + 2</m> for all <m>x \in \mathbb{R}</m>.
          It will be helpful to use the graph shown in <xref ref="fig_examplein91">Figure</xref>.
        </p>
        <figure xml:id="fig_examplein91">
          <caption>Graph for <xref ref="exam_setsandfunctions2">Example</xref></caption>
          <image width="73%" source="images/figps-setsandfunctions.png"/>
        </figure>
        <p>
          We will use the following closed intervals:
        </p>
        <tabular>
          <row>
            <cell>" <m>A = \left[ 0, 3 \right]</m> " <m>B = \left[ -2, 1\right]</m>
              " <m>C = \left[ 2, 6 \right]</m> " <m>D = \left[ 0, 3 \right]</m>. "</cell>
          </row>
        </tabular>
        <ol>
          <li>
            <p>
              Verify that <m>f ( A ) = [2, 11]</m>, <m>f ( B ) = [2, 6]</m>,
              <m>f^{-1} ( C ) = [-2, 2]</m>,
              and that <m>f^{-1} ( D ) = [-1, 1]</m>.
            </p>
          </li>
          <li>
            <ol>
              <li>
                <p>
                  Explain why <m>f ( A \cap B ) = [2, 3]</m> and <m>f ( A ) \cap f ( B ) = [2, 6]</m>.
                  So in this case,
                  <m>f ( A \cap B ) \subseteq f ( A ) \cap f ( B )</m>.
                </p>
              </li>
              <li>
                <p>
                  Explain why <m>f ( A \cup B ) = [2, 11]</m> and <m>f ( A ) \cup f ( B ) = [2, 11]</m>.
                  So in this case, <m>f ( A \cup B ) = f ( A ) \cup f ( B )</m>.
                </p>
              </li>
              <li>
                <p>
                  Explain why <m>f^{-1} ( C \cap D ) = [-1, 1]</m> and <m>f^{-1} ( C ) \cap f^{-1} ( D ) = [-1, 1]</m>.
                  So in this case,
                  <m>f^{-1} ( C \cap D ) = f^{-1} ( C ) \cap f^{-1} ( D )</m>.
                </p>
              </li>
              <li>
                <p>
                  Explain why <m>f^{-1} ( C \cup D ) = [-2, 2]</m> and <m>f^{-1} ( C ) \cup f^{-1} ( D ) = [-2, 2]</m>.
                  So in this case,
                  <m>f^{-1} ( C \cup D ) = f^{-1} ( C ) \cup f^{-1} ( D )</m>.
                </p>
              </li>
            </ol>
          </li>
          <li>
            <p>
              Recall that <m>A = [0, 3]</m>.
              Notice <m>f ( A ) = [2, 11]</m> is a subset of the codomain,
              <m>\mathbb{R}</m>.
              Explain why <m>f^{-1} \!\left( f ( A ) \right) = [-3, 3]</m>.
              Since <m>f^{-1} \!\left( f ( A ) \right)</m> is a subset of the domain,
              <m>\mathbb{R}</m>, we see that in this case,
              <m>A \subseteq f^{-1} \!\left( f ( A ) \right)</m>.
            </p>
          </li>
          <li>
            <p>
              Recall that <m>C = [2, 6]</m>.
              Notice that <m>f^{-1} ( C ) = [-2, 2]</m> is a subset of the domain,
              <m>\mathbb{R}</m>.
              Explain why <m>f \!\left( f^{-1} ( C ) \right) = [2, 6]</m>.
              Since <m>f \!\left( f^{-1} ( C ) \right)</m> is a subset of the codomain,
              <m>\mathbb{R}</m>,
              we see that in this case <m>f \!\left( f^{-1} ( C ) \right) = C</m>.
            </p>
          </li>
        </ol>
      </statement>
    </example>
    <p>
      The examples in <xref ref="prog_setsandfunctions"></xref>
      and <xref ref="exam_setsandfunctions2">Example</xref>
      were meant to illustrate general results about how functions act on sets.
      In particular,
      we investigated how the action of a function on sets interacts with the set operations of intersection and union.
      We will now state the theorems that these examples were meant to illustrate.
      Some of the proofs will be left as exercises.
    </p>
    <theorem xml:id="T_imageofoperations">
      <statement>
        <p>
          Let <m>f\x S \to T</m> be a function and let <m>A</m> and <m>B</m> be subsets of <m>S</m>.
          Then
          <ol>
            <li xml:id="T_imageofoperations1">
              <p>
                <m>f ( A \cap B ) \subseteq f ( A ) \cap f ( B )</m> <idx><h>image</h><h>of an intersection</h></idx>
              </p>
            </li>
            <li xml:id="T_imageofoperations2">
              <p>
                <m>f ( A \cup B ) = f ( A ) \cup f ( B )</m>
    <idx><h>image</h><h>of a union</h></idx>
              </p>
            </li>
          </ol>
        </p>
      </statement>
    </theorem>
    <proof>
      <p>
        We will prove Part<nbsp/><xref ref="T_imageofoperations1"/>.
        The proof of Part<nbsp/><xref ref="T_imageofoperations2"/> is Exercise<nbsp/><xref ref="exer_sec91-5"/>.
      </p>
      <p>
        Assume that <m>f\x S \to T</m> is a function and let <m>A</m> and <m>B</m> be subsets of <m>S</m>.
        We will prove that <m>f ( A \cap B ) \subseteq f ( A ) \cap f ( B )</m> by proving that for all <m>y \in T</m>,
        if <m>y \in f ( A \cap B )</m>,
        then <m>y \in f ( A ) \cap f ( B )</m>.
      </p>
      <p>
        We assume that <m>y \in f ( A \cap B )</m>.
        This means that there exists an
        <m>x \in A \cap B</m> such that <m>f ( x ) = y</m>.
        Since <m>x \in A \cap B</m>,
        we conclude that <m>x \in A</m> and <m>x \in B</m>.
        <ul>
          <li>
            <p>
              Since <m>x \in A</m> and <m>f ( x ) = y</m>,
              we conclude that <m>y \in f ( A )</m>.
            </p>
          </li>
          <li>
            <p>
              Since <m>x \in B</m> and <m>f ( x ) = y</m>,
              we conclude that <m>y \in f ( B )</m>.
            </p>
          </li>
        </ul>
      </p>
      <p>
        Since <m>y \in f ( A )</m> and <m>y \in f ( B )</m>,
        <m>y \in f ( A ) \cap f ( B )</m>.
        This proves that if <m>y \in f ( A \cap B )</m>,
        then <m>y \in f ( A ) \cap f ( B )</m>.
        Hence <m>f ( A \cap B ) \subseteq f ( A ) \cap f ( B )</m>.
      </p>
    </proof>
    <p>
      \eighth
    </p>
    <theorem xml:id="T_invimageofoperations">
      <statement>
        <p>
          Let <m>f\x S \to T</m> be a function and let <m>C</m> and <m>D</m> be subsets of <m>T</m>.
          Then
          <ol>
            <li xml:id="T_invimageofoperations1">
              <p>
                <m>f^{-1} ( C \cap D ) = f^{-1} ( C ) \cap f^{-1} ( D )</m> <idx><h>preimage</h><h>of an intersection</h></idx>
              </p>
            </li>
            <li xml:id="T_invimageofoperations2">
              <p>
                <m>f^{-1} ( C \cup D ) = f^{-1} ( C ) \cup f^{-1} ( D )</m> <idx><h>preimage</h><h>of a union</h></idx>
              </p>
            </li>
          </ol>
        </p>
      </statement>
    </theorem>
    <proof>
      <p>
        We will prove Part<nbsp/><xref ref="T_invimageofoperations2"/>.
        The proof of Part<nbsp/><xref ref="T_invimageofoperations1"/> is Exercise<nbsp/><xref ref="exer_sec91-6"/>.
      </p>
      <p>
        Assume that <m>f\x S \to T</m> is a function and that <m>C</m> and <m>D</m> are subsets of <m>T</m>.
        We will prove that <m>f^{-1} ( C \cup D ) = f^{-1} ( C ) \cup f^{-1} ( D )</m> by proving that each set is a subset of the other.
      </p>
      <p>
        We start by letting <m>x</m> be an element of <m>f^{-1} ( C \cup D )</m>.
        This means that <m>f ( x )</m> is an element of <m>C \cup D</m>.
        Hence,
        <me>
          f ( x ) \in C \text{ or }  f ( x ) \in D
        </me>.
      </p>
      <p>
        In the case where <m>f ( x ) \in C</m>,
        we conclude that <m>x \in f^{-1} ( C )</m>,
        and hence that <m>x \in f^{-1} ( C ) \cup f^{-1} ( D )</m>.
        In the case where <m>f ( x ) \in D</m>,
        we see that <m>x \in f^{-1} ( D )</m>,
        and hence that <m>x \in f^{-1} ( C ) \cup f^{-1} ( D )</m>.
        So in both cases, <m>x \in f^{-1} ( C ) \cup f^{-1} ( D )</m>,
        and we have proved that <m>f^{-1} ( C \cup D ) \subseteq f^{-1} ( C ) \cup f^{-1} ( D )</m>.
      </p>
      <p>
        We now let <m>t \in f^{-1} ( C ) \cup f^{-1} ( D )</m>.
        This means that
        <me>
          t \in f^{-1} ( C ) \text{ or }  t \in f^{-1} ( D )
        </me>.
        <ul>
          <li>
            <p>
              In the case where <m>t \in f^{-1} ( C )</m>,
              we conclude that <m>f ( t ) \in C</m> and hence that <m>f ( t ) \in C \cup D</m>.
              This means that <m>t \in f^{-1} ( C \cup D )</m>.
            </p>
          </li>
          <li>
            <p>
              Similarly, when <m>t \in f^{-1} ( D )</m>,
              it follows that <m>f ( t ) \in D</m> and hence that <m>f ( t ) \in C \cup D</m>.
              This means that <m>t \in f^{-1} ( C \cup D )</m>.
            </p>
          </li>
        </ul>
      </p>
      <p>
        These two cases prove that if <m>t \in f^{-1} ( C ) \cup f^{-1} ( D )</m>,
        then <m>t \in f^{-1} ( C \cup D )</m>.
        Therefore, <m>f^{-1} ( C ) \cup f^{-1} ( D ) \subseteq f^{-1} ( C \cup D )</m>.
      </p>
      <p>
        Since we have now proved that each of the two sets is a subset of the other set,
        we can conclude that <m>f^{-1} ( C \cup D ) = f^{-1} ( C ) \cup f^{-1} ( D )</m>.
      </p>
    </proof>
    <theorem xml:id="T_imageofinvimage">
      <statement>
        <p>
          Let <m>f\x S \to T</m> be a function and let <m>A</m> be a subset of <m>S</m> and let <m>C</m> be a subset of <m>T</m>.
          Then
          <ol>
            <li xml:id="T_imageofinvimage1">
              <p>
                <m>A \subseteq f^{-1} \!\left( f ( A ) \right)</m>
              </p>
            </li>
            <li xml:id="T_imageofinvimage2">
              <p>
                <m>f \!\left( f^{-1} ( C ) \right) \subseteq C</m>
              </p>
            </li>
          </ol>
        </p>
      </statement>
    </theorem>
    <proof>
      <p>
        We will prove Part<nbsp/><xref ref="T_imageofinvimage1"/>.
        The proof of Part<nbsp/><xref ref="T_imageofinvimage2"/> is Exercise<nbsp/><xref ref="exer_sec91-7"/>.
      </p>
      <p>
        To prove Part<nbsp/><xref ref="T_imageofinvimage1"/>,
        we will prove that for all <m>a \in S</m>, if <m>a \in A</m>, then
      </p>
      <p>
        <m>a \in f^{-1} \!\left( f ( A ) \right)</m>.
        So let <m>a \in A</m>.
        Then, by definition, <m>f ( a ) \in f ( A )</m>.
        We know that <m>f ( A ) \subseteq T</m>,
        and so <m>f^{-1} \!\left( f ( A ) \right) \subseteq S</m>.
        Notice that
        <me>
          f^{-1} \!\left( f ( A ) \right) = \left\{ x \in S \mid f ( x ) \in f ( A ) \right\}
        </me>.
      </p>
      <p>
        Since <m>f ( a ) \in f ( A )</m>,
        we use this to conclude that <m>a \in f^{-1}\!\left ( f ( A ) \right)</m>.
        This proves that if <m>a \in A</m>,
        then <m>a \in f^{-1} \!\left( f ( A ) \right)</m>,
        and hence that <m>A \subseteq f^{-1} \!\left( f ( A ) \right)</m>.
      </p>
    </proof>
    <p>
      \exercises{<xref ref="S_functionsonsets">Exercises</xref>}
    </p>
    <ol>
      <li xml:id="exer_sec91-1">
        <p>
          Let <m>f\x S \to T</m>, let <m>A</m> and <m>B</m> be subsets of <m>S</m>,
          and let <m>C</m> and <m>D</m> be subsets of <m>T</m>.
          For <m>x \in S</m> and <m>y \in T</m>,
          carefully explain what it means to say that
        </p>
        <ol>
          <li>
            <p>
              <m>y \in f ( A \cap B )</m>
            </p>
          </li>
          <li>
            <p>
              <m>y \in f ( A \cup B )</m>
            </p>
          </li>
          <li>
            <p>
              <m>y \in f ( A ) \cap f ( B )</m>
            </p>
          </li>
          <li>
            <p>
              <m>y \in f ( A ) \cup f ( B )</m>
            </p>
          </li>
          <li>
            <p>
              <m>x \in f^{-1} ( C \cap D )</m>
            </p>
          </li>
          <li>
            <p>
              <m>x \in f^{-1} ( C \cup D )</m>
            </p>
          </li>
          <li>
            <p>
              <m>x \in f^{-1} ( C ) \cap f^{-1} ( D )</m>
            </p>
          </li>
          <li>
            <p>
              <m>x \in f^{-1} ( C ) \cup f^{-1} ( D )</m>
            </p>
          </li>
        </ol>
      </li>
      <li xml:id="exer_sec91-2">
        <p>
          Let <m>f\x \mathbb{R} \to \mathbb{R}</m> by <m>f ( x ) = -2x + 1</m>.
          Let <m>A = \left[ 2, 5 \right]</m> <m>B = \left[ -1, 3 \right]</m>
          <m>C = \left[ -2, 3 \right]</m> <m>D = \left[ 1, 4 \right]</m>.
          Find each of the following:
          <ol>
            <li>
              <p>
                <m>f ( A )</m>
              </p>
            </li>
            <li>
              <p>
                <m>f^{-1} ( f ( A ) )</m>
              </p>
            </li>
            <li>
              <p>
                <m>f^{-1} ( C )</m>
              </p>
            </li>
            <li>
              <p>
                <m>f ( f^{-1} ( C ) )</m>
              </p>
            </li>
            <li>
              <p>
                <m>f ( A \cap B )</m>
              </p>
            </li>
            <li>
              <p>
                <m>f ( A ) \cap f ( B )</m>
              </p>
            </li>
            <li>
              <p>
                <m>f^{-1} ( C \cap D )</m>
              </p>
            </li>
            <li>
              <p>
                <m>f^{-1} ( C ) \cap f^{-1} ( D )</m>
              </p>
            </li>
          </ol>
        </p>
      </li>
      <li xml:id="exer_sec91-3">
        <p>
          Let <m>g\x \mathbb{N} \times \mathbb{N} \to \mathbb{N}</m> by <m>g ( m, n ) = 2^m 3^n</m>,
          let <m>A = \left\{ 1, 2, 3 \right\}</m>,
          and let <m>C = \left\{ 1, 4, 6, 9, 12, 16, 18 \right\}</m>.
          Find
          <ol>
            <li>
              <p>
                <m>g ( A \times A )</m>
              </p>
            </li>
            <li>
              <p>
                <m>g^{-1} ( C )</m>
              </p>
            </li>
            <li>
              <p>
                <m>g^{-1} \!\left( g ( A \times A ) \right)</m>
              </p>
            </li>
            <li>
              <p>
                <m>g \!\left( g^{-1} ( C ) \right)</m>
              </p>
            </li>
          </ol>
        </p>
      </li>
      <li xml:id="exer_sec91-4">
        <ol>
          <li>
            <p>
              Let <m>S = \left\{1, 2, 3, 4 \right\}</m>.
              Define <m>F\x S \to \mathbb{N}</m> by
              <m>F ( x ) = x^2</m> for each <m>x \in S</m>.
              What is the range of the function <m>F</m> and what is <m>F ( S )</m>?
              How do these two sets compare?
            </p>
          </li>
        </ol>
        Now let <m>A</m> and <m>B</m> be sets and let
        <m>f\x A \to B</m> be an arbitrary function from <m>A</m> to <m>B</m>.
        <ol>
          <li>
            <p>
              Explain why <m>f ( A ) = \text{ range } ( f )</m>.
            </p>
          </li>
          <li>
            <p>
              Define a function <m>g\x A \to f ( A )</m> by
              <m>g ( x ) = f ( x )</m> for all <m>x</m> in <m>A</m>.
              Prove that the function <m>g</m> is a surjection.
            </p>
          </li>
        </ol>
      </li>
      <li xml:id="exer_sec91-5">
        <p>
          Prove Part<nbsp/><xref ref="T_imageofoperations2"/> of <xref ref="T_imageofoperations">Theorem</xref>.
          Let <m>f\x S \to T</m> be a function and let <m>A</m> and <m>B</m> be subsets of <m>S</m>.
          Then <m>f ( A \cup B ) = f ( A ) \cup f ( B )</m>.
        </p>
      </li>
      <li xml:id="exer_sec91-6">
        <p>
          Prove Part<nbsp/><xref ref="T_invimageofoperations1"/> of <xref ref="T_invimageofoperations">Theorem</xref>.
          Let <m>f\x S \to T</m> be a function and let <m>C</m> and <m>D</m> be subsets of <m>T</m>.
          Then <m>f^{-1} ( C \cap D ) = f^{-1} ( C ) \cap f^{-1} ( D )</m>.
        </p>
      </li>
      <li xml:id="exer_sec91-7">
        <p>
          Prove Part<nbsp/><xref ref="T_imageofinvimage2"/> of <xref ref="T_imageofinvimage">Theorem</xref>.
          Let <m>f\x S \to T</m> be a function and let <m>C \subseteq T</m>.
          Then <m>f \!\left( f^{-1} ( C ) \right) \subseteq C</m>.
        </p>
      </li>
      <li>
        <p>
          Let <m>f\x S \to T</m> and let <m>A</m> and <m>B</m> be subsets of <m>S</m>.
          Prove or disprove each of the following:
          <ol>
            <li>
              <p>
                If <m>A \subseteq B</m>, then <m>f( A ) \subseteq f( B )</m>.
              </p>
            </li>
            <li>
              <p>
                If <m>f ( A ) \subseteq f (B )</m>,
                then <m>A \subseteq B</m>.
              </p>
            </li>
          </ol>
        </p>
      </li>
      <li xml:id="exer_invimagetruefalse">
        <p>
          Let <m>f\x S \to T</m> and let <m>C</m> and <m>D</m> be subsets of <m>T</m>.
          Prove or disprove each of the following:
          <ol>
            <li>
              <p>
                If <m>C \subseteq D</m>, then <m>f^{-1} ( C ) \subseteq f^{-1} (D )</m>.
              </p>
            </li>
            <li>
              <p>
                If <m>f^{-1} ( C ) \subseteq f^{-1} (D )</m>,
                then <m>C \subseteq D</m>.
              </p>
            </li>
          </ol>
        </p>
      </li>
      <li>
        <p>
          Prove or disprove: If <m>f\x S \to T</m> is a function and <m>A</m> and <m>B</m> are subsets of <m>S</m>,
          then <m>f ( A ) \cap f ( B ) \subseteq f ( A \cap B )</m>.
          <em>Note</em>: Part<nbsp/><xref ref="T_imageofoperations1"/> of <xref ref="T_imageofoperations">Theorem</xref>
          states that <m>f ( A \cap B ) \subseteq f ( A ) \cap f ( B )</m>.
        </p>
      </li>
      <li xml:id="exer_sec91-11">
        <p>
          Let <m>f\x S \to T</m> be a function,
          let <m>A \subseteq S</m>, and let <m>C \subseteq T</m>.
          <ol>
            <li>
              <p>
                Part<nbsp/><xref ref="T_imageofinvimage1"/> of <xref ref="T_imageofinvimage">Theorem</xref>
                states that <m>A \subseteq f^{-1} \!\left( f ( A ) \right)</m>.
                Give an example where <m>f^{-1} \!\left( f ( A ) \right) \not \subseteq A</m>.
              </p>
            </li>
            <li>
              <p>
                Part<nbsp/><xref ref="T_imageofinvimage2"/> of <xref ref="T_imageofinvimage">Theorem</xref>
                states that <m>f \!\left( f^{-1} ( C ) \right) \subseteq C</m>.
                Give an example where <m>C \not \subseteq f \!\left( f^{-1} ( C ) \right)</m>.
              </p>
            </li>
          </ol>
        </p>
      </li>
      <li xml:id="exer_sec91-12">
        <p>
          Is the following proposition true or false?
          Justify your conclusion with a proof or a counterexample.
          If <m>f\x S \to T</m> is an injection and <m>A \subseteq S</m>,
          then <m>f^{-1} \!\left( f ( A ) \right) = A</m>.
        </p>
      </li>
      <li xml:id="exer_sec91-13">
        <p>
          Is the following proposition true or false?
          Justify your conclusion with a proof or a counterexample.
          If <m>f\x S \to T</m> is a surjection and <m>C \subseteq T</m>,
          then <m>f \!\left( f^{-1} ( C ) \right) = C</m>.
        </p>
      </li>
      <li>
        <p>
          Let <m>f\x S \to T</m>.
          Prove that <m>f ( A \cap B ) = f ( A ) \cap f ( B )</m> for all subsets <m>A</m> and <m>B</m> of <m>S</m> if and only if <m>f</m> is an injection.
        </p>
      </li>
    </ol>
  </subsection>
</section>